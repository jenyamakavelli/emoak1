<!DOCTYPE html>
<html lang="en" onload="init();">

<head>
  <meta charset="UTF-8">
  <meta name="keywords" content="Emoak, Paper Climb, Lost Emotions, I'm pissed!, This is awesome!, Let's Dance, Image Sculpturer, Deptop, Tobias Sturn">
  <meta name="description" content="Emoak is a one-man interactive software design and development studio run by Tobias Sturn.">
  <title>Emoak</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  
<!--   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script> -->

<!--   <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css'> -->


  <script src="js-new/jquery.min.js"></script>
  <script src="js-new/snap.svg-min.js"></script>


      <link rel="stylesheet" href="css/style.css">

  

<!--       <link rel="stylesheet" href="css/normalize.min.css"> -->
 <!--  <link rel='stylesheet' href='css/swiper.css'> -->




<script>
// after dom is loaded
$(function() {
  // scroll all the way down
  $('html, body').scrollTop($(document).height() - $(window).height());
});
</script>



</head>

<body>

<!-- /.preloader -->
<!--   <div class="preloader">
      <div class="spinner-wrapper">
        <div class="spinner spinner-bounce-middle"></div>
      </div>
    </div> -->
<!-- /.preloader -->





		<div class="layers">








			<div class="layer layer--stratosphere" style="z-index: 1;">


    <div class="bg-video-top jarallax">
      <div style="background: rgba(255, 255, 255, 0.5); width: 100%; height: 100%;">
        <video playsinline="" autoplay="" loop="" muted="" poster="video/bg.jpg" class="fill fullscreen jarallax-img" >
            <source src="video/video.mp4" type="video/mp4">
        </video>
      </div>
    </div>




<div> <!-- START UP TO TOP -->
<div class="wrapper">

<!--   <div class="background"></div> -->
  
<!--   <div class="item-bg"></div> -->

  <div class="news-slider">
    <div class="news-slider__wrp swiper-wrapper">
      <div class="news-slider__item swiper-slide">
        <a href="#" class="news__item">
          <div class="news-date">
<!--             <span class="news-date__title">24</span> -->
            <span class="news-date__txt">for iPad</span>
          </div>
          <div class="news__title">
            Paper Climb - The Best reason to cut your finger nails!
          </div>

          <p class="news__txt">
            Text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text
          </p>

          <div class="news__img">
            <img src="images/portfolio/portfolio-9.jpg" alt="news">
          </div>
        </a>
      </div>

      <div class="news-slider__item swiper-slide">
        <a href="#" class="news__item">
          <div class="news-date">
<!--             <span class="news-date__title">25</span> -->
            <span class="news-date__txt">for iPhone, iPod, iPad</span>
          </div>
          <div class="news__title">
            This is Awesome!
          </div>

          <p class="news__txt">
            Text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text
          </p>

          <div class="news__img">
            <img src="images/portfolio/portfolio-4.jpg" alt="news">
          </div>
        </a>
      </div>

      <div class="news-slider__item swiper-slide">
        <a href="#" class="news__item">
          <div class="news-date">
<!--             <span class="news-date__title">26</span> -->
            <span class="news-date__txt">for iPhone, iPod, iPad</span>
          </div>
          <div class="news__title">
            Let's dance - The best way to learn dancing!
          </div>

          <p class="news__txt">
            Text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text
          </p>

          <div class="news__img">
            <img src="images/portfolio/portfolio-3.jpg" alt="news">
          </div>
        </a>
      </div>

      <div class="news-slider__item swiper-slide">
        <a href="#" class="news__item">
          <div class="news-date">
<!--             <span class="news-date__title">27</span> -->
            <span class="news-date__txt">for PC</span>
          </div>
          <div class="news__title">
            Lost Emotions - Find and expierence emotions!
          </div>

          <p class="news__txt">
            Text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text
          </p>

          <div class="news__img">
            <img src="images/portfolio/portfolio-6.jpg" alt="news">
          </div>
        </a>
      </div>

      <div class="news-slider__item swiper-slide">
        <a href="#" class="news__item">
          <div class="news-date">
<!--             <span class="news-date__title">28</span> -->
            <span class="news-date__txt">for PC</span>
          </div>
          <div class="news__title">
            Deptop - Bring depth to you desktop!
          </div>

          <p class="news__txt">
            Text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text
          </p>

          <div class="news__img">
            <img src="images/portfolio/portfolio-7.jpg" alt="news">
          </div>
        </a>
      </div>

      <div class="news-slider__item swiper-slide">
        <a href="#" class="news__item">
          <div class="news-date">
<!--             <span class="news-date__title">29</span> -->
            <span class="news-date__txt">for PC</span>
          </div>
          <div class="news__title">
            Image Sculpturer - The easiest way to create 3D objects!
          </div>

          <p class="news__txt">
            Text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text
          </p>

          <div class="news__img">
            <img src="images/portfolio/portfolio-8.jpg" alt="news">
          </div>
        </a>
      </div>
    </div>


  </div>

</div>
</div> <!-- END UP TO TOP -->








			<img src="images/leavestop.svg" style="position: absolute; bottom: -20px; width: 102vw; left: -1vw">










			</div><!-- /.stratosphere -->

			<div class="layer layer--jetstream" style="background-color: #000; z-index: 1;">

			

						<div class="arrow-top">
									<div class="layer-title-last">
										<h3 style="transform: translateY(3.5vh); color: #555; font-weight: normal;">scroll up</h3>
										<div class="scroll-down">
								        	<span></span>
								     	</div>
									</div>
						</div>

			</div>



<div class="layer layer--troposphere" style="background-color: #333">

<img src="images/tree-top.svg" style="position: absolute; width: 102vw; left: -1vw; z-index: 3; top: -1px;">
<img src="images/tree-bottom.svg" style="position: absolute; width: 102vw; left: -1vw; bottom:-1px; z-index: 3">










<figure class="tree-center">

	<figure class="tree-leaf"></figure>


	<canvas id="canv"></canvas>
 <div class="sky">
  <div class="clouds">
    <div class="c1 one"></div>
    <div class="c1 two"></div>
    <div class="c1 three"></div>
    <div class="c1 four"></div>
    <div class="c2 one"></div>
    <div class="c2 two"></div>
    <div class="c2 three"></div>
    <div class="c2 four"></div>
  </div>
</div>


	<div class="gametext">
	<h2>
		Emoak is an Indepented <br> Game Studio from <br> Vienna
	</h2>

	<figure class="figure-social">
		<a href="#">

<svg width="28px" height="19px" viewBox="0 0 28 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="email" fill="#000000" fill-rule="nonzero">
            <path d="M27.6299097,0.840678461 C27.3738085,0.684755778 27.0388078,0.686565824 26.7793998,0.871857291 L15.1624764,9.16965972 C14.4670813,9.66637047 13.5329187,9.66637047 12.8375236,9.16965972 L1.22060021,0.871857291 C1.08968083,0.778343453 0.932814133,0.728073157 0.771926843,0.728073157 C0.624668815,0.728073157 0.48704155,0.76930736 0.369961317,0.8408595 C0.732530984,0.331913504 1.32750422,1.23535471e-16 2,0 L26,0 C26.672416,-1.23520823e-16 27.2673279,0.331834795 27.6299097,0.840678461 Z M28,2.22807316 L28,18 C28,19.1045695 27.1045695,20 26,20 L2,20 C0.8954305,20 1.3527075e-16,19.1045695 0,18 L0,2.22807316 C4.05612804e-15,2.71249981 0.233948526,3.16710609 0.628142709,3.44867336 L12.8375236,12.1696597 C13.5329187,12.6663705 14.4670813,12.6663705 15.1624764,12.1696597 L27.3718573,3.44867336 C27.7660515,3.16710609 28,2.71249981 28,2.22807316 Z" id="Combined-Shape"></path>
        </g>
    </g>
</svg>
</a>



		<a href="#">
<svg width="25px" height="20px" viewBox="0 0 25 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M22.4378565,4.97682559 L22.4534459,5.63068553 C22.4534459,12.3076144 17.2951536,20 7.86116869,20 C4.96565193,20 2.2705703,19.1641187 0,17.7307214 C0.401041577,17.7768593 0.809792198,17.8025009 1.22385349,17.8025009 C3.62727631,17.8025009 5.83797304,16.9947916 7.59297963,15.6409337 C5.34844877,15.599941 3.45536464,14.1383717 2.80180906,12.1332687 C3.11685197,12.1922274 3.43455022,12.2204837 3.76783787,12.2204837 C4.23654772,12.2204837 4.68958251,12.161525 5.11923321,12.0461379 C2.77311428,11.5794446 1.00508797,9.5410244 1.00508797,7.09486958 L1.00508797,7.03076566 C1.69770271,7.41024397 2.48668049,7.63587289 3.32773714,7.66412922 C1.95287205,6.7589988 1.0467168,5.21282922 1.0467168,3.46152711 C1.0467168,2.5359003 1.29931646,1.66923223 1.73933154,0.923096388 C4.26772652,3.97950362 8.04858411,5.98975181 12.3111713,6.20002952 C12.2226029,5.83075723 12.1784044,5.44360331 12.1784044,5.0487738 C12.1784044,2.26160302 14.4750141,0 17.3080876,0 C18.7818855,0 20.1151217,0.612782827 21.0524558,1.59483795 C22.2190054,1.36659427 23.3178867,0.946123189 24.3099549,0.369187947 C23.9271581,1.5487 23.1147962,2.53843072 22.054974,3.16403433 C23.0887568,3.0435021 24.080825,2.76912047 25,2.36914577 C24.3126103,3.37937288 23.4402892,4.2691521 22.4378565,4.97682559 Z" id="Path" fill="#010002" fill-rule="nonzero"></path>
    </g>
</svg>
		</a>




		<a href="#">
<svg width="28px" height="20px" viewBox="0 0 28 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="youtube" fill="#000000" fill-rule="nonzero">
            <path d="M27.9935059,9.56776014 C27.9935059,9.56776014 27.9935059,13.992587 27.4172363,16.1262651 C27.0942383,17.2941451 26.1488281,18.2149991 24.9498047,18.5292747 C22.7592285,19.0909091 13.9969238,19.0909091 13.9969238,19.0909091 C13.9969238,19.0909091 5.25751957,19.0909091 3.04404301,18.5069691 C1.84501957,18.1926936 0.899609375,17.2715066 0.57661135,16.1036266 C-2.84217094e-14,13.992587 -2.84217094e-14,9.54545455 -2.84217094e-14,9.54545455 C-2.84217094e-14,9.54545455 -2.84217094e-14,5.12096062 0.57661135,2.98728247 C0.8992676,1.8194025 1.8679199,0.87591 3.04404301,0.561634432 C5.23461916,-3.90798505e-14 13.9969238,-3.90798505e-14 13.9969238,-3.90798505e-14 C13.9969238,-3.90798505e-14 22.7592285,-3.90798505e-14 24.9498047,0.583939943 C26.1488281,0.898215511 27.0942383,1.8194025 27.4172363,2.98728247 C28.016748,5.12096062 27.9935059,9.56776014 27.9935059,9.56776014 Z M11.2068359,13.6330345 L18.4932618,9.54545455 L11.2068359,5.4578746 L11.2068359,13.6330345 Z" id="Combined-Shape"></path>
        </g>
    </g>
</svg>
		</a>


	</figure>

	</div>

</figure>












<div class="tree-relative">
<!-- <img src="images/tree-top.svg" style="position: absolute; width: 100vw; z-index: 3; top: -1px;"> -->
<!-- <img src="images/tree-bottom.svg" style="position: absolute; width: 100vw; bottom:-1px; z-index: 3"> -->
</div>

<!-- 		<div class="canvasoffdiv"> -->
<!-- 			<canvas id="canvas" width="100%"  style="z-index: 1"></canvas> -->


			<div class="bg-video-down jarallax">
		        <video playsinline="" autoplay="" loop="" muted="" poster="video/bg.jpg" class="fill fullscreen jarallax-img">
		            <source src="video/video.mp4" type="video/mp4">
		        </video>
		    </div>

<!-- 		</div> -->

			<!-- <div class="blackvideo"></div> -->





	</div>



	<div class="layer layer--exosphere">
	<div class="black25vh"></div>
	</div>




</div> 
</div>


<script  src="js/index.js"></script>

      <link rel="stylesheet" href="css/slider.css">





<!-- 		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script> -->
    <script src="js-new/TweenMax.min.js"></script>
		
  
  

    



<!-- SLIDER -->
<!--   <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script> -->

<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/js/swiper.min.js'></script> -->
<script src='js-new/swiper.min.js'></script>
<script  src="js/slider.js"></script>
<!-- SLIDER -->



<!-- <script src="https://unpkg.com/jarallax@1.9/dist/jarallax.min.js"></script> -->
<script src="js-new/jarallax.min.js"></script>

<!-- Include it if you want to use Video parallax -->
<!-- <script src="https://unpkg.com/jarallax@1.9/dist/jarallax-video.min.js"></script> -->
<script src="js-new/jarallax-video.min.js"></script>

<!-- Include it if you want to parallax any element -->
<!-- <script src="https://unpkg.com/jarallax@1.9/dist/jarallax-element.min.js"></script> -->
<script src="js/jarallax-element.min.js"></script>
<script type="text/javascript">
jarallax(document.querySelectorAll('.jarallax'), {
    speed: 0.9
});
</script>

<script type="text/javascript">
	var Bird = {
  def: function(n, m, s) {
    if (m) this.e(n.prototype, m);
    if (s) this.e(n, s);
    return n;
  },
  e: function(o, p) {
    for (prop in p) o[prop] = p[prop];
    return o;
  },
  v: [
    [5, 0, 0],
    [-5, -2, 1],
    [-5, 0, 0],
    [-5, -2, -1],
    [0, 2, -6],
    [0, 2, 6],
    [2, 0, 0],
    [-3, 0, 0]
  ],
  beak: [
    [0, 1, 2],
    [4, 7, 6],
    [5, 6, 7]
  ],
  L: null,
  V: {
    x: 0,
    y: 0,
    z: 5000
  }
}
Bird.obj = Bird.def(
  function() {
    this.vtr = new Bird.Vtr(),
      this.accel, this.width = 500, this.height = 500, this.depth = 300, this.ept, this.area = 200,
      this.msp = 4, this.mfrc = 0.1, this.coll = false;
    this.pos = new Bird.Vtr();
    this.vel = new Bird.Vtr();
    this.accel = new Bird.Vtr();
  }, {

    _coll: function(value) {
      this.coll = value;
    },
    param: function(w, h, dth) {
      this.width = w;
      this.height = h;
      this.depth = dth;
    },
    run: function(b) {
      if (this.coll) {
        this.vtr.set(-this.width, this.pos.y, this.pos.z);
        this.vtr = this.detect(this.vtr);
        this.vtr.scale(3);
        this.accel.add(this.vtr);
        this.vtr.set(this.width, this.pos.y, this.pos.z);
        this.vtr = this.detect(this.vtr);
        this.vtr.scale(3);
        this.accel.add(this.vtr);
        this.vtr.set(this.pos.x, -this.height, this.pos.z);
        this.vtr = this.detect(this.vtr);
        this.vtr.scale(3);
        this.accel.add(this.vtr);
        this.vtr.set(this.pos.x, this.height, this.pos.z);
        this.vtr = this.detect(this.vtr);
        this.vtr.scale(3);
        this.accel.add(this.vtr);
        this.vtr.set(this.pos.x, this.pos.y, -this.depth);
        this.vtr = this.detect(this.vtr);
        this.vtr.scale(3);
        this.accel.add(this.vtr);
        this.vtr.set(this.pos.x, this.pos.y, this.depth);
        this.vtr = this.detect(this.vtr);
        this.vtr.scale(3);
        this.accel.add(this.vtr);
      }
      if (Math.random() > 0.5) {
        this.fly(b);
      }
      this.move();
    },
    fly: function(b) {
      if (this.ept) {
        this.accel.add(this.meet(this.ept, 0.005));
      }
      this.accel.add(this.line(b));
      this.accel.add(this.togeth(b));
      this.accel.add(this.apart(b));
    },
    move: function() {
      this.vel.add(this.accel);
      var l = this.vel.len();
      if (l > this.msp) {
        this.vel.lowscale(l / this.msp);
      }
      this.pos.add(this.vel);
      this.accel.set(0, 0, 0);
    },
    detect: function(pt) {
      var dir = new Bird.Vtr();
      dir.copy(this.pos);
      dir.sub(pt);
      dir.scale(1 / this.pos.dsq(pt));
      return dir;
    },
    rep: function(pt) {
      var dist = this.pos.dst(pt);if (dist < 150) {
        var dir = new Bird.Vtr();
        dir.subv(this.pos, pt);
        dir.scale(0.3 / dist);
        this.accel.add(dir);
      }
    },
    meet: function(pt, amt) {
      var dir = new Bird.Vtr();
      dir.subv(pt, this.pos);
      dir.scale(amt);
      return dir;
    },
    line: function(b) {
      var _b, totvel = new Bird.Vtr(),
        cnt = 0;
      for (var i = 0, il = b.length; i < il; i++) {
        if (Math.random() > 0.6) continue;
        _b = b[i];
        var dist = _b.pos.dst(this.pos);
        if (dist > 0 && dist <= this.area) {
          totvel.add(_b.vel);
          cnt++;
        }
      }
      if (cnt > 0) {
        totvel.lowscale(cnt);
        var v = totvel.len();
        if (v > this.mfrc) {
          totvel.lowscale( v / this.mfrc);
        }
      }
      return totvel;
    },
    togeth: function(b) {
      var _b, dist,
        plus = new Bird.Vtr(),
        dir = new Bird.Vtr(),
        cnt = 0;
      for (var i = 0, il = b.length; i < il; i++) {
        if (Math.random() > 0.6) continue;
        _b = b[i];
        dist = _b.pos.dst(this.pos);
        if (dist > 0 && dist <= this.area) {
          plus.add(_b.pos);
          cnt++;
        }
      }
      if (cnt > 0) {
        plus.lowscale(cnt);
      }
      dir.subv(plus, this.pos);
      var l = dir.len();
      if (l > this.mfrc) {
        dir.lowscale(l / this.mfrc);
      }
      return dir;
    },
    apart: function(b) {
      var _b, dist,
        plus = new Bird.Vtr(),
        rep = new Bird.Vtr();
      for (var i = 0, il = b.length; i < il; i++) {
        if (Math.random() > 0.6) continue;
        _b = b[i];
        dist = _b.pos.dst(this.pos);
        if (dist > 0 && dist <= this.area) {
          rep.subv(this.pos, _b.pos);
          rep.level();
          rep.lowscale(dist);
          plus.add(rep);
        }
      }
      return plus;
    }
  }
);
Bird.Build = Bird.def(
  function() {
    this.base = 0, this.left = 1, this.right = 2;
    this.pos = new Bird.Vtr();
    this.rot = new Bird.Vtr();
    this.bbase = this.tri(this.base);
    this.leftwing = this.tri(this.left);
    this.rightwing = this.tri(this.right);
  }, {
    matrix: function() {
      this.bbase.vtx();
      this.leftwing.vtx();
      this.rightwing.vtx();
      this.leftwing.wingY(this.wY);
      this.rightwing.wingY(this.wY);
      this.bbase.rotY(this.rot.y);
      this.bbase.rotZ(this.rot.z);
      this.leftwing.rotY(this.rot.y);
      this.leftwing.rotZ(this.rot.z);
      this.rightwing.rotY(this.rot.y);
      this.rightwing.rotZ(this.rot.z);
      this.bbase.trans(this.pos);
      this.leftwing.trans(this.pos);
      this.rightwing.trans(this.pos);
    },
    draw: function() {
      this.bbase.draw();
      this.leftwing.draw();
      this.rightwing.draw();
    },
    tri: function(i) {
      var v1, v2, v3, v;
      v = Bird.v[Bird.beak[i][0]];
      v1 = new Bird.Vtr(v[0], v[1], v[2]);
      v = Bird.v[Bird.beak[i][1]];
      v2 = new Bird.Vtr(v[0], v[1], v[2]);
      v = Bird.v[Bird.beak[i][2]];
      v3 = new Bird.Vtr(v[0], v[1], v[2]);
      return new Bird.Tri(v1, v2, v3);
    },
    wang: function(y) {
      var v1 = Bird.v[Bird.beak[1][1]];
      this.rot.x = Math.atan2(y, v1[0]);
    },
    zpos: function() {
      var z1 = this.bbase._z();
      var z2 = this.leftwing._z();
      var z3 = this.rightwing._z();
      return Math.min(z1, z2, z3);
    },
    wing: function(y) {
      this.wY = y;
    }
  }
);
Bird.Tri = Bird.def(
  function(p1, p2, p3) {
    this.mainv = [p1.copy(), p2.copy(), p3.copy()];
    this.Vtxs = [p1.copy(), p2.copy(), p3.copy()];
    this.bv = new Bird.Vtr(0.5, 0.5, 0.8);
  }, {
    draw: function() {
      var v1 = [this.Vtxs[0].Pt().x, this.Vtxs[0].Pt().y];
      var v2 = [this.Vtxs[1].Pt().x, this.Vtxs[1].Pt().y];
      var v3 = [this.Vtxs[2].Pt().x, this.Vtxs[2].Pt().y];
      var col = this.col();
      Bird.$.fillStyle = col;
      Bird.$.strokeStyle = col;
      Bird.$.lineWidth = 0.1;
      Bird.$.beginPath();
      Bird.$.moveTo(v1[0], v1[1]);
      Bird.$.lineTo(v2[0], v2[1]);
      Bird.$.lineTo(v3[0], v3[1]);
      Bird.$.lineTo(v1[0], v1[1]);
      Bird.$.closePath();
      Bird.$.fill();
      Bird.$.stroke();
    },
    rotX: function(a) {
      var ang = a;
      this.Vtxs.forEach(
        function(e, i, a) {
          Bird.Matrix.rotX(e, ang);
        }
      );
    },
    rotY: function(a) {
      var ang = a;
      this.Vtxs.forEach(
        function(e, i, a) {
          Bird.Matrix.rotY(e, ang);
        }
      );
    },
    rotZ: function(a) {
      var ang = a;
      this.Vtxs.forEach(
        function(e, i, a) {
          Bird.Matrix.rotZ(e, ang);
        }
      );
    },
    trans: function(s) {
      var trans = s;
      this.Vtxs.forEach(
        function(e, i, a) {
          Bird.Matrix.trans(e, [trans.x, trans.y, trans.z]);
        }
      );
    },
    vtx: function(idx) {
      for (var i = 0; i < 3; i++) {
        var x = this.mainv[i].x;
        var y = this.mainv[i].y;
        var z = this.mainv[i].z;
        this.Vtxs[i].x = x;
        this.Vtxs[i].y = y;
        this.Vtxs[i].z = z;
      }
    },
    wingY: function(y) {
      this.Vtxs[0].y = y;
    },
    _z: function() {
      return Math.min(this.Vtxs[0].z, this.Vtxs[1].z, this.Vtxs[2].z);
    },
    col: function() {
      var e = 0.3,
          f = 0.3,
          g = 0.7;
      var bw = new Bird.Vtr(1, 1, 1);
      var n = this.norm();
      var x = this.Vtxs[0].copy();
      var v = x.sub(Bird.V);
      v.level();
      x = this.Vtxs[0].copy();
      var l = x.sub(Bird.L);
      l.level();
      var p = l.p(n);
      var x1 = n.copy();
      x1.scale(p);
      x1.scale(1);
      var r = l.copy();
      r.sub(x1);
      x1.scale(-1);
      p = Math.max(x1.p(l), 0);
      var col = this.bv.copy();
      col.scale(p);
      col.scale(col, e);
      x1 = col.copy();
      var x2 = r.copy();
      x2.scale(-1);
      p = Math.pow(Math.max(x2.p(v)), 20);
      x2 = bw.copy();
      x2.scale(p * f);
      var x3 = this.bv.copy();
      x3.scale(g);
      x1.add(x2);
      x1.add(x3);
      var _r = Math.floor(x1.x * 0);
      var _g = Math.floor(x1.y * 0);
      var _b = Math.floor(x1.z * 0);
      return 'rgb(' + _r + ',' + _g + ',' + _b + ')';
    },
    norm: function() {
      var v1 = this.Vtxs[0];
      var v2 = this.Vtxs[1];
      var v3 = this.Vtxs[1];
      v3.sub(v2);
      v1.sub(v3);
      v3.cross(v1);
      v3.level();
      return v3;
    }
  }
);
Bird.Vtr = Bird.def(
  function(x, y, z) {
    this.x = x || 0;
    this.y = y || 0;
    this.z = z || 0;
    this.fl = 1000;
  }, {
    Pt: function() {
      var zsc = this.fl + this.z;
      var scale = this.fl / zsc;
      var x = this.x * scale;
      var y = this.y * scale;
      return {
        x: x,
        y: y,
        scale: scale
      };
    },
    set: function(x, y, z) {
      this.x = x;
      this.y = y;
      this.z = z;
      return this;
    },
    len: function() {
      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
    },
    add: function(v, w) {

      this.x += v.x;
      this.y += v.y;
      this.z += v.z;
      return this;
    },
    sub: function(v, w) {

      this.x -= v.x;
      this.y -= v.y;
      this.z -= v.z;
      return this;
    },
    subv: function(a, b) {
      this.x = a.x - b.x;
      this.y = a.y - b.y;
      this.z = a.z - b.z;
      return this;
    },
    scale: function(upd) {
      this.x *= upd;
      this.y *= upd;
      this.z *= upd;
      return this;
    },
    lowscale: function(upd) {
      if (upd !== 0) {
        var inv = 1 / upd;
        this.x *= inv;
        this.y *= inv;
        this.z *= inv;
      } else {
        this.x = 0;
        this.y = 0;
        this.z = 0;
      }
      return this;
    },
    copy: function(v) {
      this.x = v.x;
      this.y = v.y;
      this.z = v.z;
      return this;
    },
    dst: function(v) {
      return Math.sqrt(this.dsq(v));
    },
    dsq: function(v) {
      var dx = this.x - v.x;
      var dy = this.y - v.y;
      var dz = this.z - v.z;
      return dx * dx + dy * dy + dz * dz;
    },
    cross: function(v, w) {
      var x = this.x,
        y = this.y,
        z = this.z;
      this.x = y * v.z - z * v.y;
      this.y = z * v.x - x * v.z;
      this.z = x * v.y - y * v.x;
      return this;
    },
    p: function(v) {
      return this.x * v.x + this.y * v.y + this.z * v.z;
    },
    level: function() {
      return this.lowscale(this.len());
    },
    copy: function() {
      return new Bird.Vtr(this.x, this.y, this.z);
    }
  }
);
Bird.Matrix = {
  rotX: function(pt, angX) {
    var pos = [pt.x, pt.y, pt.z];
    var asin = Math.sin(angX);
    var acos = Math.cos(angX);
    var xrot = [];
    xrot[0] = [1, 0, 0];
    xrot[1] = [0, acos, asin];
    xrot[2] = [0, -asin, acos];
    var calc = this.mm(pos, xrot);
    pt.x = calc[0];
    pt.y = calc[1];
    pt.z = calc[2];
  },
  rotY: function(pt, angY) {
    var pos = [pt.x, pt.y, pt.z];
    var asin = Math.sin(angY);
    var acos = Math.cos(angY);
    var yrot = [];
    yrot[0] = [acos, 0, asin];
    yrot[1] = [0, 1, 0];
    yrot[2] = [-asin, 0, acos];
    var calc = this.mm(pos, yrot);
    pt.x = calc[0];
    pt.y = calc[1];
    pt.z = calc[2];
  },
  rotZ: function(pt, angZ) {
    var pos = [pt.x, pt.y, pt.z];
    var asin = Math.sin(angZ);
    var acos = Math.cos(angZ);
    var yrot = [];
    yrot[0] = [acos, asin, 0];
    yrot[1] = [-asin, acos, 0];
    yrot[2] = [0, 0, 1];
    var calc = this.mm(pos, yrot);
    pt.x = calc[0];
    pt.y = calc[1];
    pt.z = calc[2];
  },
  trans: function(pt, s) {
    pt.x += s[0];
    pt.y += s[1];
    pt.z += s[2];
  },
  scale: function(pt, s) {
    pt.x *= s[0];
    pt.y *= s[1];
    pt.z *= s[1];
  },
  mm: function(m1, m2) {
    var calc = [];
    calc[0] = m1[0] * m2[0][0] + m1[1] * m2[1][0] + m1[2] * m2[2][0];
    calc[1] = m1[0] * m2[0][1] + m1[1] * m2[1][1] + m1[2] * m2[2][1];
    calc[2] = m1[0] * m2[0][2] + m1[1] * m2[1][2] + m1[2] * m2[2][2];
    return calc;
  }
}

function draw() {
  var c = document.getElementById('canv');
  Bird.$ = c.getContext("2d");
  Bird.canv = {
    w: c.width = window.innerWidth,
    h: c.height = window.innerHeight
  };
  Bird.L = new Bird.Vtr(0, 2000, 3000);
  Bird.V = new Bird.Vtr(0, 0, 3000);
  var birds = [];
  var b = [];
  for (var i = 0; i < 100; i++) {
    _b = b[i] = new Bird.obj();
    _b.pos.x = Math.random() * 800 - 400;
    _b.pos.y = Math.random() * 800 - 400;
    _b.pos.z = Math.random() * 800 - 400;
    _b.vel.x = Math.random() * 2 - 1;
    _b.vel.y = Math.random() * 2 - 1;
    _b.vel.z = Math.random() * 2 - 1;
    _b._coll(true);
    _b.param(400, 400, 800);
    bird = birds[i] = new Bird.Build();
    bird.phase = Math.floor(Math.random() * 92.83);
    bird.pos = b[i].pos;
  }

  run();

  function run() {
    window.requestAnimationFrame(run);
    draw();
  }

  function draw() {
    Bird.$.setTransform(1, 0, 0, 1, 0, 0);
    Bird.$.translate(Bird.canv.w / 2, Bird.canv.h / 2);
    Bird.$.clearRect(-Bird.canv.w / 2, -Bird.canv.h / 2, Bird.canv.w, Bird.canv.h);
    Bird.$.scale(1, -1);
    var arr = [];
    b.forEach(function(e, i, a) {
      var _b = b[i];
      _b.run(b);
      var bird = birds[i];
      bird.rot.y = Math.atan2(-_b.vel.z, _b.vel.x);
      bird.rot.z = Math.asin(_b.vel.y / _b.vel.len());
      bird.phase = (bird.phase + (Math.max(0, bird.rot.z) + 0.1)) % 92.83;
      bird.wing(Math.sin(bird.phase) * 5);
      bird.matrix();
      arr.push({
        z: bird.zpos(),
        o: bird
      });
    });
    arr.sort(function(a, b) {
      return a.z < b.z ? -1 : a.z > b.z ? 1 : 0;
    });
    arr.forEach(function(e, i, a) {
      e.o.draw();
    });
  }
};
draw();
window.addEventListener('resize',function(){
   if(c.width!==window.innerWidth && c.height!==window.innerHeight){
     Bird.canv = {
      w: c.width = window.innerWidth,
      h: c.height = window.innerHeight
    };
   }
});
</script>

</body>

</html>
